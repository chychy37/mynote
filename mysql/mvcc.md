# mvcc

#### 只在RR和RC两个隔离级别下工作

#### 实现
+ 通过在每行保存两个隐藏的列来实现（创建时间+删除时间）（时间不是真的时间，而是自增的系统版本号）
+ select：行版本号 < trx_id < 删除标识 
+ insert：为新插入的行保存当前系统版本号作为行版本号
+ delete：为删除的行保存当前系统版本号作为行删除标识
+ update：保存当前系统版本号作为行版本号，同时保存当前系统版本号到原来行作为行删除标识
+ 大多数读操作不需要加锁，但需要额外的存储空间及更多的检查工作，额外的维护工作